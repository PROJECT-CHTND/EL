version: 1
goals:
  - kind: daily_work
    label_ja: 本日の業務
    label_en: Today's work
    match:
      any_keywords:
        - 業務
        - 業務報告
        - 仕事
        - 日報
        - タスク
        - 進捗
        - today
        - today's work
        - task
        - report
    steps:
      - id: what_is_subject
        ja: "まず、今回の対象（例: プロダクトや取り組み）について、あなたの言葉で簡潔に教えてください。"
        en: "First, in your own words, what is the subject (e.g., a product or initiative)?"
      - id: today_projects
        ja: "今日はどのプロジェクトに取り組みましたか？（例: 機能A / バグ修正B など）"
        en: "Which projects did you work on today? (e.g., Feature A / Bugfix B)"
      - id: today_tasks
        ja: "具体的にどのタスクを実施しましたか？"
        en: "Which concrete tasks did you complete today?"
      - id: outcomes
        ja: "成果物（PR、ドキュメント、デプロイ等）はありますか？"
        en: "Any tangible outcomes (PRs, docs, deploys)?"
      - id: blockers
        ja: "詰まりや課題はありましたか？原因と対処を教えてください。"
        en: "Any blockers? What caused them and how did you address them?"
      - id: next_steps
        ja: "次の一歩は何ですか？明日やることを一つだけ決めるとしたら？"
        en: "What is the next step? If you pick one thing for tomorrow, what is it?"

  - kind: requirements
    label_ja: 要件整理
    label_en: Requirements
    match:
      any_keywords:
        - 仕様
        - 要件
        - 要件定義
        - spec
        - requirement
    steps:
      - id: scope
        ja: "対象のスコープは何ですか？ユーザー/ユースケース/制約を教えてください。"
        en: "What is the scope? Describe users/use-cases/constraints."
      - id: success
        ja: "成功の定義は何ですか？満たすべき受け入れ基準は？"
        en: "What does success look like? What are the acceptance criteria?"
      - id: risks
        ja: "想定されるリスクや依存関係はありますか？"
        en: "Any risks or dependencies to consider?"

  - kind: sop
    label_ja: 手順書作成
    label_en: SOP / Runbook
    match:
      any_keywords:
        - 手順書
        - 手順
        - 手引き
        - 作業手順
        - runbook
        - sop
        - procedure
        - playbook
    steps:
      - id: objective
        ja: "この手順の目的は何ですか？完了後に達しているべき状態を一文で教えてください。"
        en: "What is the objective? In one sentence, what state should be achieved when done?"
      - id: prerequisites
        ja: "前提条件・依存（権限/環境/資材/認証情報など）は何ですか？足りないものはありますか？"
        en: "What prerequisites and dependencies (permissions/env/materials/credentials) are required? Anything missing?"
      - id: environment
        ja: "対象環境や範囲（本番/検証、影響範囲、ロールバック可否）を明確にしてください。"
        en: "Clarify target environment/scope (prod/staging, blast radius, rollback feasibility)."
      - id: steps
        ja: "大まかな手順の流れを番号付きで列挙してください（後で詳細化します）。"
        en: "List the high-level sequence of steps (we will detail later)."
      - id: branches
        ja: "分岐条件や例外パスはありますか？各分岐の判断基準を教えてください。"
        en: "Are there branches or exception paths? Provide decision criteria for each."
      - id: validation
        ja: "各重要ステップの検証方法/期待結果は？観測ポイントと合格基準を教えてください。"
        en: "For key steps, what validation/expected results? Provide observables and pass criteria."
      - id: rollback
        ja: "失敗時のロールバック/リカバリー手順は？安全に戻すための条件・所要時間は？"
        en: "What are rollback/recovery steps? Conditions and time needed to safely revert?"
      - id: risks
        ja: "危険事項・注意点（データ消失/停止リスクなど）は？回避策・緩和策を記してください。"
        en: "List hazards/cautions (e.g., data loss/outage). Provide avoidance/mitigation measures."
      - id: checklist
        ja: "最終チェックリストに入れるべき項目を列挙してください（前提/主要手順/検証/後片付け）。"
        en: "List items for the final checklist (prereqs/core steps/validation/cleanup)."

  - kind: postmortem
    label_ja: ポストモーテム
    label_en: Postmortem / Incident Review
    match:
      any_keywords:
        - ポストモーテム
        - 事後分析
        - 振り返り
        - インシデント
        - 障害
        - 影響範囲
        - rca
        - root cause
        - incident
        - outage
        - postmortem
    steps:
      - id: summary
        ja: "事象の概要を一文で。いつ、どこで、何が起き、誰に影響しましたか？"
        en: "One-sentence summary: when/where/what happened and who was impacted?"
      - id: impact
        ja: "影響範囲（ユーザー数/売上/機能/期間）を定量・定性で示してください。"
        en: "Quantify and qualify impact (users/revenue/features/duration)."
      - id: detection
        ja: "検知方法とTTDは？検知を早めるには何が必要でしたか？"
        en: "How was it detected and what was TTD? What would reduce TTD?"
      - id: timeline
        ja: "主要イベントのタイムライン（時刻・アクション・結果）を時系列でください。"
        en: "Provide a chronological timeline (time, action, result)."
      - id: root_cause
        ja: "根本原因（技術/プロセス/組織）と共起要因は？エビデンスも示してください。"
        en: "Root cause (tech/process/org) and contributing factors? Include evidence."
      - id: remediation
        ja: "当時の対処（回避/軽減/解消）は何でしたか？効果は十分でしたか？"
        en: "What mitigations/remediations were applied? Were they sufficient?"
      - id: capa
        ja: "是正/予防策（CAPA）を具体化し、担当・期限・成功基準を設定してください。"
        en: "Define corrective/preventive actions with owner, due date, and success criteria."
      - id: lessons
        ja: "学び・再発防止の原則を短文でまとめてください（責任追及ではなく学習に焦点）。"
        en: "Summarize key lessons and prevention principles (focus on learning, not blame)."

  - kind: recipe
    label_ja: レシピ作成
    label_en: Recipe Authoring
    match:
      any_keywords:
        - レシピ
        - 作り方
        - 料理
        - 調理
        - recipe
        - cook
        - cooking
        - dish
    steps:
      - id: basic
        ja: "料理名と想定人数（何人前）を教えてください。"
        en: "Provide dish name and servings."
      - id: ingredients
        ja: "材料と分量を単位付きで列挙してください（g/ml/個/小さじ等）。"
        en: "List ingredients with quantities and units (g/ml/piece/tsp, etc.)."
      - id: tools
        ja: "必要な器具・道具を列挙してください（例：鍋、オーブン、温度計）。"
        en: "List required tools/equipment (e.g., pot, oven, thermometer)."
      - id: prep
        ja: "下ごしらえ（切る/漬ける/温度戻しなど）があれば具体的に。"
        en: "Describe any prep steps (chopping, marinating, tempering)."
      - id: steps
        ja: "工程を番号付きで詳細化し、各工程の温度/時間/火加減を明記してください。"
        en: "Detail numbered steps with temperature/time/heat level for each."
      - id: substitutions
        ja: "代替材料やアレルギー/制約（菜食/低糖/グルテン等）への対応を記してください。"
        en: "List substitutions and dietary constraints (vegetarian/low-carb/gluten-free)."
      - id: pitfalls
        ja: "失敗しやすいポイントと回避策、目視での判断基準を教えてください。"
        en: "Common pitfalls, how to avoid them, and visual cues to judge progress."
      - id: storage
        ja: "保存方法・持ち・再加熱のコツを記してください。"
        en: "Provide storage guidance and reheating tips."

  - kind: generic
    label_ja: 一般
    label_en: Generic
    match:
      any_keywords: []
    steps: []

